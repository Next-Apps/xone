<!DOCTYPE html>
<html lang="de">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1, maximum-scale=1.0, user-scalable=no">

    <title>Xone - Javascript framework for building modern web applications</title>

    <meta name="robots" content="index, follow">
    <meta name="format-detection" content="telephone=no">

    <link rel="icon" type="image/png" href="page/img/favicon.png">
    <link rel="stylesheet" href="page/css/fonts.css">
    <link rel="stylesheet" href="page/css/reset.css">
    <link rel="stylesheet" href="page/css/animate.css">
    <link rel="stylesheet" href="page/css/style.css">
    <link rel="stylesheet" href="page/css/effect.css">
    <link rel="stylesheet" href="page/css/mobile.css">
    <link rel="stylesheet" href="page/css/site.css">

    <link rel='stylesheet' href='https://cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css'>
    <link rel="stylesheet" href="page/lib/highlight/styles/agate.css">

    <meta property="og:url" content="https://nextapps-de.github.io/xone/">
    <meta property="og:title" content="Xone - Javascript framework for building modern web applications">
    <meta property="og:image" content="https://nextapps-de.github.io/xone/page/img/xone.png?rnd=1">
    <meta property="og:description" content="Xone provides you a lightweight full stack environment to develop beautiful web-based applications for every use and enables the optimal integration of an universal codebase into a wide range of systems (e.g. mobile devices, tablets, desktops, browser environments).">
</head>
<body>
<a name="top" id="top" class="anchor"></a>

<table id="intro" cellpadding="0" cellspacing="0">
    <tr>
        <td class="top_spacer"><div style="min-height: 5vmax"></div></td>
    </tr>
    <tr>
        <td style="height: 1%">
            <div id="slogan" class="animated fadeIn" style="animation-delay: 0.2s; background-image: url(page/img/xone.svg); background-position: center center; background-repeat: no-repeat; background-size: contain; height: 12vmin; width: 66%; max-width: 66%;"></div>
            <br>
            <div id="headline" class="animated fadeIn" style="animation-delay: 0.4s; color:#555; text-shadow: none; font-size: 3vh; padding-top: 1vw">Building a todo app with the Xone Javascript framework</div>
        </td>
    </tr>
    <tr>
        <td style="height: 40%">&nbsp;</td>
    </tr>
    <tr>
        <td style="height: 5%">
            <a href="#start" class="autoscroll animated fadeInDown" id="btn_more" style="animation-delay: 0.6s; font-size: 1.5vh;">&nbsp;Start Tutorial&nbsp;</a>
        </td>
    </tr>
    <tr>
        <td style="height: 30%">&nbsp;</td>
    </tr>
    <tr>
        <td style="height: 5em;">
            <div id="arrow_bottom" href="#start" class="autoscroll animated fadeInDown" style="animation-delay: 0.8s;"></div>
        </td>
    </tr>
    <tr>
        <td style="height: 3%">&nbsp;</td>
    </tr>
</table>
<main style="text-align: left">
    <div class="content_wrapper">
        <section class="content_section">

            <br><br>
            <a name="start" id="start" class="anchor"></a>
            <p>
                The todo app from this tutorial is based on <a href="http://todomvc.com" target="_blank">http://todomvc.com</a>.
            </p>
            <br>

            Open <a href="page/demo/todo/index.html" target="_blank">Demo</a> in new tab
            <br><br>

            <!--
            <input class="toggle-box" id="toggle-box-0" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-0">Demo</label>
            <div class="toggle-box-content" style="text-align: center">
                <br>
                <div id="iframe_wrapper" style="width:61vmin; height: 67vmin; padding:0vmin 7.15vmin 0vmin 7.6vmin; overflow: hidden; margin: 0 auto; position: relative">
                    <div style="width: 100%; height: 100%; margin: 0; background: url(page/img/iphone.svg); background-position: center center; background-size: contain; background-repeat: no-repeat; position: absolute; top:0; left:0; bottom:0; right:0; z-index: 1; pointer-events:none"></div>
                    <iframe src="page/demo/todo/index.html" style="width: 100%; height: 120%; margin: 0; background: none; background-color: transparent; border: 0; position: relative; top:-9.7%; left:0; bottom:0; right:0; z-index: 0; transform:scale(0.6)" marginwidth="0" marginheight="0" frameborder="0"></iframe>
                </div>
                <br><br>
                <a href="page/demo/todo/index.html" target="_blank">Open Demo in new tab</a>
                <br> <br>
            </div>
            -->

            <h2>Installation</h2>

            <input class="toggle-box" id="toggle-box-1" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-1">Installation (including CLI support)</label>
            <div class="toggle-box-content">

                <div class="tagline" style="text-align: left">1.) Install Xone</div>

                Install Xone via NPM (Node Package Manager, requires <a href="https://nodejs.org" target="_blank">Node.js</a>):
                <br>
                <pre>
                    <code class="bash">> npm install -g xone</code>
                </pre>
                <br>

                <div class="tagline">2.) Create New Xone Project</div>

                Create a blank project folder and run from there:
                <br>
                <pre>
                    <code class="bash">> xone create</code>
                </pre>

                <!--
                <br>

                If you have choosen "Create New Xone Project" then you will see the default Xone placeholder screen of a new created project:<br>
                <br>
                <img src="page/img/screen-1.png" style="width: 100%; max-width: 400px">
                -->

                <br><br>
            </div>

            <h2>Implementation (HTML)</h2>

            <input class="toggle-box" id="toggle-box-5" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-5">app/index.html</label>
            <div class="toggle-box-content">

                Provide the main <span class="highlight">index.html</span> (single-page application):
                <br>
                <pre>
                    <code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
	&lt;head&gt;
		&lt;meta charset="utf-8"&gt;
		&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
		&lt;title&gt;Template â€¢ TodoMVC&lt;/title&gt;
		&lt;link rel="stylesheet" href="css/style.css"&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;script src="js/build.js"&gt;&lt;/script&gt;
	&lt;/body&gt;
&lt;/html&gt;</code>
                </pre>
                <br>
                <br>
            </div>

            <input class="toggle-box" id="toggle-box-7" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-7">app/layout/app.shtml</label>
            <div class="toggle-box-content">

                Define the main app layout:
                <br>
                <pre>
                    <code class="handlebars">&lt;section class="todoapp"&gt;
	{{ include(layout/app/header) }}
	{{ include(layout/app/main) }}
	{{ include(layout/app/footer) }}
&lt;/section&gt;
&lt;footer class="info"&gt;
	{{ include(layout/app/info) }}
&lt;/footer&gt;</code>
                </pre>
                <br>
                <div class="note">
                    Use includes to split views into logically (reusable) components.
                </div>
                <div class="note">
                    The template will be compiled into Javascript by <span class="highlight">xone compile</span>.
                </div>
                <br>
            </div>

            <input class="toggle-box" id="toggle-box-8" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-8">app/layout/app/*.shtml</label>
            <div class="toggle-box-content">

                app/layout/app/header.shtml:
                <br>
                <pre>
                    <code class="html">&lt;header class="header"&gt;
	&lt;h1&gt;todos&lt;/h1&gt;
	&lt;input class="new-todo" placeholder="What needs to be done?" autofocus&gt;
&lt;/header&gt;</code>
                </pre>
                <br>

                app/layout/app/main.shtml:
                <br>
                <pre>
                    <code class="html">&lt;section class="main"&gt;
	&lt;input class="toggle-all" id="toggle-all" type="checkbox"&gt;
	&lt;label for="toggle-all"&gt;Mark all as complete&lt;/label&gt;
	&lt;ul class="todo-list"&gt;&lt;/ul&gt;
&lt;/section&gt;</code>
                </pre>
                <br>

                app/layout/app/footer.shtml:
                <br>
                <pre>
                    <code class="html">&lt;footer class="footer"&gt;
	&lt;span class="todo-count"&gt;&lt;strong&gt;0&lt;/strong&gt; item left&lt;/span&gt;
	&lt;ul class="filters"&gt;
		&lt;li&gt;&lt;a href="#/" class="selected"&gt;All&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href="#/active"&gt;Active&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href="#/completed"&gt;Completed&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;button class="clear-completed"&gt;Clear completed&lt;/button&gt;
&lt;/footer&gt;</code>
                </pre>
                <br>

                app/layout/app/info.shtml:
                <br>
                <pre>
                    <code class="html">&lt;p&gt;Double-click to edit a todo&lt;/p&gt;
&lt;p&gt;Created by &lt;a href="http://todomvc.com"&gt;Xone&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Part of &lt;a href="http://todomvc.com"&gt;TodoMVC&lt;/a&gt;&lt;/p&gt;</code>
                </pre>
                <br>
                <br>
            </div>

            <input class="toggle-box" id="toggle-box-9" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-9">app/view/todo/list.shtml</label>
            <div class="toggle-box-content">

                Define the todo list view (as a dynamic template):
                <br>
                <pre>
                    <code class="handlebars">&lt;li {{ if(completed) }}class="completed"{{ endif }} data-id="{{ id }}"&gt;
	&lt;div class="view"&gt;
		&lt;input class="toggle" type="checkbox" {{ if(completed) }}checked{{ endif }}&gt;
		&lt;label class="title"&gt;{{ title }}&lt;/label&gt;
		&lt;button class="destroy"&gt;&lt;/button&gt;
	&lt;/div&gt;
	&lt;input class="edit" value="{{ title }}"&gt;
&lt;/li&gt;</code>
                </pre>
                <br>

                <div class="note">
                    The template will be compiled into Javascript by <span class="highlight">xone compile</span>.
                </div>
                <div class="note">
                    The markups {{ ... }} will be resolved during runtime by <span class="highlight">Controller.render()</span> or <span class="highlight">Controller.build()</span>.
                </div>
                <div class="note">
                    The template represents the view for one single item and is automatically multiplied by passing an array of item data.
                </div>
                <br>
            </div>

            <h2>Implementation (Javascript)</h2>

            <input class="toggle-box" id="toggle-box-11" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-11">app/js/model.js</label>
            <div class="toggle-box-content">

                Define a persistent todo model:
                <br>
                <pre>
                    <code class="js">goog.provide('APP.MODEL.Todo');
goog.require('APP.MODEL');

/**
 * @type _model_helper
 */

APP.MODEL.Todo = (function(){

	var Todo = APP.MODEL.register('Todo', [

		'id', 'title', 'completed'
	]);

	// model events (callbacks):

	Todo.onCreate =
	Todo.onUpdate =
	Todo.onDelete = function(){

		APP.CONTROLLER.Main();
	};

	return Todo;

})();</code>
                </pre>
                <br>
                <br>
            </div>

            <input class="toggle-box" id="toggle-box-12" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-12">app/js/handler.js</label>
            <div class="toggle-box-content">

                Implement all actions by providing an application interface (e.g. used as event handlers):
                <br>
                <pre>
                    <code class="js">goog.provide('APP.HANDLER.Event');
goog.require('APP.MODEL.Todo');

APP.HANDLER = (function(Todo){

	return {

		createTodo: function(event, target){

			var value = CORE.trim(this.value);

			if(value) Todo.create({

                'id': CORE.randomString(8),
                'title': value,
                'completed': false
            });
		},

		editTodo: function(event, target){

			var value = CORE.trim(this.value);

			if(value){

				Todo.update(target, 'title', value, /* save? */ true);
			}
			else{

				Todo.delete(target);
			}
		},

		cancelCreate: function(event, target){

			this.value = '';
		},

		cancelEdit: function(event, target){

			this.value = CORE.getClosest(target, '&gt;.title').textContent;

			CORE.removeClass(target, 'editing');
		},

		updateState: function(event, target){

			Todo.find(target)
				.update('completed', this.checked)
				.save();
		},

		toggleAllStates: function(event, target){

			Todo.updateAll('completed', this.checked, /* save? */ true);
		},

		deleteCompleted: function(event, target){

			Todo.deleteWhere('completed', true);
		},

		deleteTodo: function(event, target){

			Todo.delete(target);
		},

		enterEditMode: function(event, target){

			CORE.addClass(target, 'editing');
			CORE.focusInput(CORE.getClosest(target, '&gt;.edit'));
		}
	};

})(APP.MODEL.Todo);</code>
                </pre>
                <br>
                <br>
            </div>

            <input class="toggle-box" id="toggle-box-13" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-13">app/js/event.js</label>
            <div class="toggle-box-content">

                Define event delegation and route to handler:
                <br>
                <pre>
                    <code class="js">goog.provide('APP.EVENT.App');
goog.require('APP.EVENT');
goog.require('APP.HANDLER.Event');

(function(HANDLER){

	APP.EVENT['document'] = [{

		on: 'keyup:enter',
		if: 'input.new-todo',
		do: [HANDLER.createTodo, HANDLER.cancelCreate]
	}, {

		on: 'keyup:esc',
		if: 'input.new-todo',
		do: HANDLER.cancelCreate
	}, {

		on: ['keyup:enter', 'focusout'],
		if: 'input.edit',
		at: '&lt; li',
		do: [HANDLER.editTodo, HANDLER.cancelEdit]
	}, {

		on: 'keyup:esc',
		if: 'input.edit',
		at: '&lt; li',
		do: HANDLER.cancelEdit
	}, {

		on: 'change',
		if: 'input.toggle',
		at: '&lt; li',
		do: HANDLER.updateState
	}, {

		on: 'clickmove',
		if: 'button.destroy',
		at: '&lt; li',
		do: HANDLER.deleteTodo
	}, {

		on: 'dblclick',
		if: 'label.title',
		at: '&lt; li',
		do: HANDLER.enterEditMode
	}, {

		on: 'clickmove',
		if: 'button.clear-completed',
		do: HANDLER.deleteCompleted
	}, {

		on: 'change',
		if: 'input.toggle-all',
		do: HANDLER.toggleAllStates
	}];

})(APP.HANDLER);</code>
                </pre>
                <br>
                <br>
            </div>

            <input class="toggle-box" id="toggle-box-14" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-14">app/js/controller.js</label>
            <div class="toggle-box-content">

                Provide a main controller (e.g. a view controller):
                <br>
                <pre>
                    <code class="js">goog.provide('APP.CONTROLLER.Main');
goog.require('APP.CONTROLLER');
goog.require('APP.MODEL.Todo');

APP.CONTROLLER.Main = (function(Todo){

	var current_filter;

	return function MainController(params, target){

		// update select state:

		if(target){

			current_filter = params;

			CORE.toggleClass(['a.selected', target], 'selected');
		}

		// render view:

		APP.CONTROLLER.render({

			// uses view "app/view/todo/list.shtml"
			view: 'view/todo/list',

			// models to render
			data: filterTodosBy(current_filter),

			// destination dom element
			target: 'ul.todo-list',

			// callback
			callback: updateView
		});
	};

	// private helpers:

	function filterTodosBy(filter){

		return filter ?

			Todo.where('completed', filter === 'completed')
		:
			Todo.all();
	}

	function updateView(){

		var count_all = Todo.count();
		var count_active = Todo.count('completed', false);
		var count_completed = count_all - count_active;

		// update container visibility
		CORE.setStyle(['.main', '.footer'], 'display',
			count_all ? 'block' : 'none'
		);

		// update button visibility
		CORE.setStyle('.clear-completed', 'display',
			count_completed ? 'block' : 'none'
		);

		// update counter
		CORE.setHTML('.todo-count',
			'&lt;strong&gt;' + count_active + '&lt;/strong&gt; item' + (count_active === 1 ? '' : 's') + ' left'
		);

		// update checkbox
		CORE.getById('toggle-all').checked = !count_active;
	}

})(APP.MODEL.Todo);</code>
                </pre>
                <br>

                <div class="note">
                    The controller is connected/mapped by route and event definitions. When using the controller as a view controller it typically also renders views by data.
                </div>
                <br>
            </div>

            <input class="toggle-box" id="toggle-box-15" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-15">app/js/route.js</label>
            <div class="toggle-box-content">

                Define routing:
                <br>
                <pre>
                    <code class="js">goog.provide('APP.ROUTE.App');
goog.require('APP.CONTROLLER.Main');

APP.ROUTE = {

	'#/': APP.CONTROLLER.Main,

	'#/active': {

		to: APP.CONTROLLER.Main,
		params: 'active'
	},

	'#/completed': {

		to: APP.CONTROLLER.Main,
		params: 'completed'
	}
};</code>
                </pre>
                <br>
                <br>
            </div>

            <input class="toggle-box" id="toggle-box-16" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-16">app/js/main.js</label>
            <div class="toggle-box-content">

                Provide a main class (entry point):
                <br>
                <pre>
                    <code class="js">goog.provide('APP.MAIN');
goog.require('APP.EVENT.App');
goog.require('APP.ROUTE.App');

// define app layout:

APP.CONFIG.LAYOUT = [

	'layout/app' // points to "app/layout/app.shtml"
];

// provide entry point:

APP.MAIN = function(){

	APP.CONTROLLER.request(window.location.hash);
};</code>
                </pre>
                <br>
                <br>
            </div>

            <input class="toggle-box" id="toggle-box-6" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-6">app/manifest.js</label>
            <div class="toggle-box-content">

                Define all app dependencies in <span class="highlight">app/manifest.js</span>:
                <br>
                <pre>
                    <code class="json">var MANIFEST = {

    "dependencies": {

        "calculate": true,
		"xone": "lib/xone/",
        "copy": [
            "index.html"
        ],
        "css": [
			"node_modules/todomvc-common/base.css",
			"node_modules/todomvc-app-css/index.css"
        ],
        "js_extern": [
			"node_modules/todomvc-common/base.js"
		],
        "js": []
    }
};</code>
                </pre>
                <br>
                <br>
            </div>

            <h2>Build & Run</h2>

            <input class="toggle-box" id="toggle-box-17" type="checkbox">
            <label class="toggle-box-title" for="toggle-box-17">Installation (Global with CLI support)</label>
            <div class="toggle-box-content">

                <div class="tagline">1.) Build Xone Project</div>

                Compile the project:
                <br>
                <pre>
                    <code class="bash">> xone compile</code>
                </pre>
                <br>

                Build the project (also compiles):
                <br>
                <pre>
                    <code class="bash">> xone build</code>
                </pre>
                <br>

                <div class="tagline">2.) Run Xone Project</div>

                Run <span class="highlight">app/index.html</span> or <span class="highlight">public/www/index.html</span> from your local filesystem in your preferred browser.
                <br> <br>

                Start local webserver:
                <br>
                <pre>
                    <code class="bash">> xone server</code>
                </pre>
                <br>

                Open your browser and goto:<br>
                <ul>
                    <li><a href="http://localhost/app">http://localhost/app/</a> to run development environment</li>
                    <li><a href="http://localhost/public/www">http://localhost/public/www/</a> to run production build (<span class="highlight">www</span> is the default platform)</li>
                </ul>
                <!--
                <br>

                If you have choosen "Create New Xone Project" then you will see the default Xone placeholder screen of a new created project:<br>
                <br>
                <img src="page/img/screen-1.png" style="width: 100%; max-width: 400px">
                -->

                <br><br>
            </div>

            <br><br>
        </section>
    </div>
</main>
<footer class="content_wrapper invert" style="background-color: #333;">
    <section class="content_section">


        <div class="clear"></div>
        <br>

        <br>

    </section>
</footer>
<script src="page/lib/highlight/highlight.pack.js"></script>
<script>
    hljs.configure({tabReplace: '    '});
    hljs.initHighlightingOnLoad();
</script>
</body>
</html>
